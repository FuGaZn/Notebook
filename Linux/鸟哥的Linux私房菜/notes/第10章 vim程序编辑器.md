vi分为三种模式：一般模式、编辑模式和命令行模式

- 一般模式：默认模式，可以进行删除、复制、粘贴
- 编辑模式：在一般模式下按下“i、l、o、O、a、A、r、R”等任意一个进入编辑模式。在编辑模式下才能编辑文件内容。按下[Esc]键返回一般模式
- 命令行模式：在一般模式下输入":、/、?"三个中任一个进入命令行模式，此时光标移动到最下面一行。命令行模式下可以进行查找、保存、退出等操作。



vi下的按键说明：

移动光标：	h	j	k	l

查找替换：

```
/word: 向下查找word
?word: 向上查找word
n: 重复前一个查找的操作
N: 反向进行前一个查找的操作
```

```
:n1,n2s/word1/word2/g: 在n1和n2行之间将word1替换成word2
:1,$s/word1/word2/g: 全文查找word1替换成word2
:1,$s/word1/word2/gc: 全文查找word1替换成word2，并在替换前询问用户
```

删除

```java
x: 向后删除一个字符（相当于Del）
X: 向前删除一个字符（相当于Backspace）
nx: 向后删除n个字符
dd：删除光标所在行一整行
ndd: 相处光标所在行向下n行
d1G: 删除光标所在到第一行所有数据
dG: 删除光标所在到最后一行的所有数据
d$: 删除从光标所在处到该行的最后一个字符
d0: 删除从光标所在处到该行的第一个字符
```

复制

```
yy
nyy
yG	
y1G	
y0
y$
```

粘贴

```
p: 将已复制的数据在光标下一行粘贴
P：粘贴到光标上一行
```

其他

```
J: 将光标所在行与下一行的数据结合成一行
c: 重复删除多个数据
u: 复原前一个操作（相当于undo）
[Ctrl]+r: 重做上一个操作（redo）
```



<br>

一般模式切换到编辑模式

```
i: 从目前光标处插入
I: 从目前所在行的第一个非空格处插入
a: 从目前光标所在的下一个字符处插入
A: 从光标所在行的最后一个字符处插入
o: 从目前光标所在的下一行处插入新一行
O: 从目前光标所在的上一行处插入新一行

上面都是进入Insert插入模式，下面是进入replace替换模式

r: 替换光标所在的那一个字符一次
R: 一直替换光标所在的位置，直到按下Esc为止
```

<br>

命令行模式下的命令

```
:w	写入
:w!	强制写入
:q	离开
:q!	强制离开（不保存）
:wq	写入后离开
:wq!
ZZ	若文件没有更改，直接离开；否则保存后离开
:w[filename]	写入到另一个文件
:r[filename]	在编辑的数据中，读入另一个文件的内容
:n1,n2 w [filename]	把n1到n2行的内容保存成filename文件中的内容

:set nu	显示行号
:set nonu
```

